(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[116],{2513:function(t,e){(function(){TS.registerModule("web",{before_login_sig:new signals.Signal,login_sig:new signals.Signal,ds_login_sig:new signals.Signal,no_login_complete_sig:new signals.Signal,section_opened_sig:new signals.Signal,onStart:function a(){TS.prefs.messages_theme_changed_sig.add(TS.ui.setThemeClasses,TS);TS.boot_data.page_needs_enterprise&&(TS.boot_data.no_login?TS.web.no_login_complete_sig.addOnce(t):TS.web.login_sig.addOnce(e));TS.web.autoOpenSection();$('[data-toggle="tooltip"]').tooltip({animation:true});TS.telemeter&&TS.boot_data&&TS.boot_data.page_timing_label&&TS.telemeter.measure("navigationStart",TS.boot_data.page_timing_label+"_load");TS.boot_data&&!TS.boot_data.api_active_migration_error_response_type&&(TS.boot_data.api_active_migration_error_response_type="show_dialog");$('[data-qa="upgrade_std_btn"]').click(function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_standard_button"}}})});$('[data-qa="upgrade_btn"]').click(function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_plus_button"}}})});$('[data-qa="learn_more_btn"]').click(function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"pricing_plus_button"}}})})},gogogo:function t(){$("html").bind("mousedown",function(){TS.model.ui.is_mouse_down=true});$("html").bind("dragend",function(){TS.model.ui.is_mouse_down=false});$("html").bind("mouseup",function(){TS.model.ui.is_mouse_down=false})},toggleSection:function t(e,a){var n=$("#"+e);var o=n.css("border-bottom");n.css("border-bottom","1px solid transparent");n.find(".accordion_subsection").slideToggle(100,function(){n.css("border-bottom",o);n.hasClass("plastic_row")&&!n.hasClass("open")&&n.removeAttr("style")});n.toggleClass("open");n.find("textarea").trigger("autosize-resize");var i=n.hasClass("open");var s=n.find(".accordion_expand");if(i){TS.web.section_opened_sig.dispatch(e);s.text(TS.interop.i18n.t("Close","web")());n.find(".ladda-button").each(function(){Ladda.bind($(this)[0])})}else s.text(TS.interop.i18n.t("Expand","web")());a||history.pushState(null,null,"#"+e.replace("change_",""))},openSection:function t(e){var a=$("#"+e);a.hasClass("open")||TS.web.toggleSection(e)},closeSection:function t(e){var a=$("#"+e);a.hasClass("open")&&TS.web.toggleSection(e)},autoOpenSection:function t(){var e=_.escape(window.location.hash);if(e){"#"===e.charAt(0)&&(e=e.substring(1));var a=$('a[name="'+e+'"][data-accordion]');var n=a.data("accordion");if(n){setTimeout(function(){TS.web.section_opened_sig.dispatch(n)},0);TS.web.openSection(n)}}},scrollToElWithHeaderOffset:function t(e){var a=$(e);a.scrollintoview({px_offset:$("header").height()+16})},onFirstLoginMS:function t(){a();TS.log(850,Date.now()-TS.boot_data.start_ms+"ms from first html to login_sig.dispatch()");TS.web.before_login_sig.dispatch();TS.web.login_sig.dispatch()},onEveryLoginMS:function t(){},apiPaused:function t(){},apiUnpaused:function t(){},showSpeedBumpDialog:function t(e){if(!TS.boot_data.feature_user_app_disable_speed_bump)return;var a="USER_APP_DISABLE_SPEED_BUMP_ACTION";var n=e.team;var o=e.member;var i=e.context;var s;var r;var l;var c;var p;var _;var d=TS.interop.i18n.t("If you'd like to keep those apps and integrations, you'll need to select <b>Contact Support</b> below.","web")();var u=TS.interop.i18n.t("This will also disable <b>all the apps and integrations</b> installed by {real_name}. Those apps will no longer work for any members of {team_name}.","web")({real_name:o.real_name,team_name:TS.interop.rules.teams.getTeamDisplayName(n)});if("deactivate_user"===i){s=TS.interop.i18n.t("Deactivate {real_name}'s account?","web")({real_name:o.real_name});_=TS.interop.i18n.t("Deactivate account and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:o.app_count});r=TS.interop.i18n.t("Deactivate Account","web")();l="btn_danger disabled";c="app_disable";p="#app_disable"}else if("convert_to_guest"===i){s=TS.interop.i18n.t("Convert {real_name} to a Guest?","web")({real_name:o.real_name});_=TS.interop.i18n.t("Convert account to a Guest and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:o.app_count});r=TS.interop.i18n.t("Convert to Guest","web")();l="btn_success disabled";c="app_guest";p="#app_guest"}else{s=TS.interop.i18n.t("Deactivate your account and apps you've added?","web")();u=TS.interop.i18n.t("This will also disable <b>all the apps and integrations</b> installed by you. Those apps will no longer work for any members of {team_name}.","web")({real_name:o.real_name,team_name:TS.interop.rules.teams.getTeamDisplayName(n)});_=TS.interop.i18n.t("Deactivate your account and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:o.app_count});r=TS.interop.i18n.t("Deactivate Account","web")();l="btn_danger disabled";c="app_self_disable";p="#app_self_disable";d=TS.interop.i18n.t("If you'd like help keeping apps running after you deactivate, please choose <b>Contact Support</b> below.","web")()}var b="https://get.slack.help/hc/en-us/articles/360000446446";var g=TS.interop.i18n.t("View our help article","web")();var m=$('<span class="float_left sk_light_grey"><ts-icon class="ts_icon_question_circle align_middle"><a role="button" href="'+b+'" target="_blank" class="link_btn no_underline small_padding tiny bold align_middle" style="color:#A0A0A2">'+g+"</a></span>");var S='<p>\n\t\t\t\t\t\t<div class="alert alert_warning small">\n\t\t\t\t\t\t<ts-icon class="ts_icon_warning"></ts-icon>\n\t\t\t\t\t\t\t'+u+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label class="checkbox normal align_bottom top_padding">\n\t\t\t\t\t\t<input type="checkbox" id="'+c+'">\n\t\t\t\t\t\t\t'+_+'\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</br>\n\t\t\t\t\t\t<p class="small no_margin no_padding">\n\t\t\t\t\t\t\t'+d+"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</p>";TS.interop.clog.track(a,{contexts:{ui_context:{action:"open",step:i}}});TS.generic_dialog.start({title:s,body:S,go_button_text:r,go_button_class:l,cancel_button_text:TS.interop.i18n.t("Contact Support","web")(),onGo:function t(){TS.interop.clog.track(a,{contexts:{ui_context:{action:"complete",step:i}}});e.onGo&&e.onGo()}});TS.generic_dialog.div.find(".dialog_cancel").click(function(){TS.interop.clog.track(a,{contexts:{ui_context:{action:"contact_support",step:i}}});TS.web.showContactSupportDialog({team:TS.model.team,member:o})});TS.generic_dialog.div.find(".close").click(function(){TS.interop.clog.track(a,{contexts:{ui_context:{action:"cancel",step:i}}})});TS.generic_dialog.div.find(".modal-footer").append(m);$(p).click(function(){$('[data-qa="generic_dialog_go"]').toggleClass("disabled")})},showContactSupportDialog:function t(e){if(!TS.boot_data.feature_user_app_disable_speed_bump)return;var a=e.team;var n=e.member;var o=n.real_name;var i=a.id;var s=n.id;var r=n.app_count;var l=TS.interop.i18n.t("Subject","web")();var c=TS.interop.i18n.t("Add a comment","web")();var p=TS.interop.i18n.t("Keeping apps when deactivating members","web")();var _=TS.interop.i18n.t("(Optional)","web")();var d=TS.interop.i18n.t("Need to keep specific apps or integrations up and running? We're happy to help. No users or apps will be disabled in the meantime.","web")();var u='<p class="no_margin">\n\t\t\t\t\t\t\t<p class="small">'+d+'</p>\n\t\t\t\t\t\t\t<label for="subject">'+l+'</label>\n\t\t\t\t\t\t\t<input type="text" id="subject" value="'+p+'" class="small">\n\t\t\t\t\t\t\t<label for="textarea" class="small_top_padding">'+c+'</label>\n\t\t\t\t\t\t\t<textarea id="textarea" style="resize:vertical" placeholder="'+_+'"></textarea>\n\t\t\t\t\t\t\t<input type="hidden" id="full_name" value="'+o+'">\n\t\t\t\t\t\t\t<input type="hidden" id="workspace_id" value="'+i+'">\n\t\t\t\t\t\t\t<input type="hidden" id="user_id" value="'+s+'">\n\t\t\t\t\t\t\t<input type="hidden" id="app_count" value="'+r+'">\n\t\t\t\t\t\t</p>';TS.generic_dialog.start({title:TS.interop.i18n.t("Contact Us","web")(),body:u,go_button_text:TS.interop.i18n.t("Submit","web")(),go_button_class:"btn_success",cancel_button_text:TS.interop.i18n.t("Cancel","web")(),onGo:function t(){var e={};e.workspace_id=$("#workspace_id").val();e.user_id=$("#user_id").val();e.app_count=$("#app_count").val();e.subject=$("#subject").val();e.full_name=$("#full_name").val();e.message=$("#textarea").val();TS.web.createSupportTicket(e);var a=TS.interop.i18n.t('A member of the Slack support team will contact you shortly. Please check out our <a href="{link}" target="_blank">Help Center article</a> for more information.',"web")({link:"https://get.slack.help/hc/en-us/articles/360000446446"});var n='<p class="normal small">'+a+"</p>";TS.generic_dialog.start({title:TS.interop.i18n.t("Thank you! We'll be in touch.","web")(),body:n,go_button_text:TS.interop.i18n.t("Done","web")(),go_button_class:"btn_success",show_cancel_button:false})}})},createSupportTicket:function t(e){if(!TS.boot_data.feature_user_app_disable_speed_bump)return;var a={};a.workspace_id=e.workspace_id;a.user_name=e.full_name;a.app_user=e.user_id;a.app_count=e.app_count;var n=JSON.stringify(a,null,2);var o="\nTransfer App Ownership Data:\n\n";var i="\n\nComment from Admin:\n\n";var s=o+n+i+e.message;TS.interop.api.call("help.issues.create",{text:s,title:e.subject,tags:"api_app_disable, test"}).then(function(t){var e=t.data,a=t.args,n=t.request_id;return{data:e,args:a,request_id:n}}).catch(function(t){var e=t.data,a=t.args,n=t.request_id;return{data:e,args:a,request_id:n}})}});var t=function t(){if(!TS.boot_data.page_needs_enterprise)return;if(!TS.boot_data.user_id)return;TS.interop.api.call("users.info",{user:TS.boot_data.user_id,_x_reason:"web_menu"}).then(function(t){TS.model.user_colors={};TS.redux.teams.upsertTeam({id:TS.boot_data.team_id});TS.members.legacyUpsertMember(t.data.user);TS.model.user=t.data.user;e()})};var e=function t(){if(!TS.boot_data.page_needs_enterprise)return;_.get(TS.model.user,"enterprise_user.teams.length")>3&&$("#all_workspaces").removeClass("hidden").on("click",function(){$("#header_team_nav").toggleClass("open");TS.ui.enterprise_teams_dialog.show(TS.model.user)})};var a=function t(){$(".emoji_replace_on_load").each(function(){var t=$(this).html();t=TS.emoji.graphicReplace(t);$(this).html(t)})}})()}},[[2513,0]]]);